"use strict";(self.webpackChunkhaertelautomatisering=self.webpackChunkhaertelautomatisering||[]).push([[356],{356:function(t,e,s){s.r(e);var i=s(146),a=s(631);class h{selectors={text:"[data-js-readmore-text]",button:"[data-js-readmore-btn]"};stateClasses={isClamped:"clamped",isOpen:"open"};constructor(t,e={}){this.rootElement=t,this.text=this.rootElement.querySelector(this.selectors.text),this.button=this.rootElement.querySelector(this.selectors.button),this.expanded=!1,this.lines=e.lines||4,this.moreKey=this.button.dataset.langAriaMore,this.lessKey=this.button.dataset.langAriaLess,this.init()}init(){this.text.classList.add(this.stateClasses.isClamped),this.text.style.webkitLineClamp=this.lines,requestAnimationFrame(()=>{this.collapsedHeight=this.text.getBoundingClientRect().height,this.text.classList.remove(this.stateClasses.isClamped),this.text.style.webkitLineClamp="";const t=this.text.scrollHeight;this.text.classList.add(this.stateClasses.isClamped),this.text.style.webkitLineClamp=this.lines,t<=this.collapsedHeight+2?this.button.hidden=!0:(this.updateAriaLabel(),this.button.addEventListener("click",()=>this.toggle()),this._onLangChange=()=>this.updateAriaLabel(),i.w.subscribe(this._onLangChange))})}updateAriaLabel(){const t=this.expanded?this.lessKey:this.moreKey,e=(0,a.A)(t);e&&this.button.setAttribute("aria-label",e)}open(){this.text.classList.remove(this.stateClasses.isClamped),this.text.style.webkitLineClamp="";const t=this.text.scrollHeight;this.text.style.maxHeight=this.collapsedHeight+"px",this.text.offsetHeight,requestAnimationFrame(()=>{this.text.style.maxHeight=t+"px"}),this.text.addEventListener("transitionend",t=>{"max-height"===t.propertyName&&(this.text.style.maxHeight="none")},{once:!0}),this.expanded=!0,this.button.setAttribute("aria-expanded","true"),this.button.classList.add(this.stateClasses.isOpen),this.updateAriaLabel()}close(){const t=this.text.scrollHeight;this.text.style.maxHeight=t+"px",this.text.offsetHeight,requestAnimationFrame(()=>{this.text.style.maxHeight=this.collapsedHeight+"px"}),this.text.addEventListener("transitionend",t=>{"max-height"===t.propertyName&&(this.text.classList.add(this.stateClasses.isClamped),this.text.style.webkitLineClamp=this.lines,this.text.style.maxHeight="")},{once:!0}),this.expanded=!1,this.button.setAttribute("aria-expanded","false"),this.button.classList.remove(this.stateClasses.isOpen),this.updateAriaLabel()}toggle(){this.expanded?this.close():this.open()}destroy(){i.w.unsubscribe(this._onLangChange)}}e.default=class{constructor(){this.instances=[],this.init()}init(){document.querySelectorAll("[data-js-readmore-card]").forEach(t=>{this.instances.push(new h(t,{lines:5}))})}destroy(){this.instances.forEach(t=>t.destroy()),this.instances=[]}}}}]);