"use strict";(self.webpackChunkhaertelautomatisering=self.webpackChunkhaertelautomatisering||[]).push([[431],{431:function(t,e,s){s.r(e),e.default=class{selectors={root:"[js-header]",overlay:"[js-header-overlay]",burgerButton:"[js-header-burger-button]",link:"[js-menu-link]",hero:"[js-hero]",sections:".section[id]"};stateClasses={isActive:"is-active",isLock:"is-lock",isLinkActive:"is-link-active"};constructor(){this.rootElement=document.querySelector(this.selectors.root),this.rootElement&&(this.overlayElement=this.rootElement.querySelector(this.selectors.overlay),this.burgerButtonElement=this.rootElement.querySelector(this.selectors.burgerButton),this.navLinks=Array.from(this.rootElement.querySelectorAll(this.selectors.link)).filter(t=>"A"===t.tagName&&(t.getAttribute("href")||"").startsWith("#")),this.heroSection=document.querySelector(this.selectors.hero),this.sections=document.querySelectorAll(this.selectors.sections),this.burgerButtonElement&&this.attachBurgerButtonEvents(),this.heroSection&&this.observeHeader(),this.navLinks.length&&this.sections.length&&this.observeActiveLinks())}onBurgerButtonClick=()=>{if(!this.burgerButtonElement||!this.overlayElement)return;const t=this.burgerButtonElement.classList.toggle(this.stateClasses.isActive);this.burgerButtonElement.setAttribute("aria-expanded",t?"true":"false"),this.overlayElement.classList.toggle(this.stateClasses.isActive,t),document.documentElement.classList.toggle(this.stateClasses.isLock,t),t?this.attachNavLinksEvents():this.detachNavLinksEvents()};onLinkClick=()=>{this.overlayElement&&this.burgerButtonElement&&this.overlayElement.classList.contains(this.stateClasses.isActive)&&(this.burgerButtonElement.classList.remove(this.stateClasses.isActive),this.burgerButtonElement.setAttribute("aria-expanded","false"),this.overlayElement.classList.remove(this.stateClasses.isActive),document.documentElement.classList.remove(this.stateClasses.isLock),this.detachNavLinksEvents())};attachBurgerButtonEvents(){this.burgerButtonElement?.addEventListener("click",this.onBurgerButtonClick)}attachNavLinksEvents(){this.navLinks.forEach(t=>t.addEventListener("click",this.onLinkClick))}detachNavLinksEvents(){this.navLinks.forEach(t=>t.removeEventListener("click",this.onLinkClick))}observeHeader=()=>{const t=t=>{this.rootElement.classList.toggle(this.stateClasses.isActive,t)};if("IntersectionObserver"in window){const e=new IntersectionObserver(e=>{const s=e[0];t(!s.isIntersecting)},{root:null,rootMargin:"-10% 0px 0px 0px",threshold:0});return e.observe(this.heroSection),void(this._headerObserver=e)}};observeActiveLinks=()=>{const t=t=>{this.navLinks.forEach(e=>{e.classList.toggle(this.stateClasses.isLinkActive,e.getAttribute("href")===`#${t}`)})},e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&t(e.target.id)})},{root:null,rootMargin:"-30% 0px -70% 0px",threshold:0});this.sections.forEach(t=>e.observe(t)),this._navObserver=e};destroy(){this.burgerButtonElement?.removeEventListener("click",this.onBurgerButtonClick),this.detachNavLinksEvents(),this._headerObserver&&this._headerObserver.disconnect(),this._navObserver&&this._navObserver.disconnect()}}}}]);