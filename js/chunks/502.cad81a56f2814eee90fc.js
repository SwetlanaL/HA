"use strict";(self.webpackChunkhaertelautomatisering=self.webpackChunkhaertelautomatisering||[]).push([[502],{502:function(e,t,s){s.r(t);var o=s(236),i=s(96);const n=()=>window.matchMedia?.("(prefers-reduced-motion: reduce)")?.matches??!1,r=e=>e?e.querySelector(".swiper-slide-active .clients__logo"):null;class l{constructor(){this.isPlaying=!1,this.isHoveringActive=!1,this.isHoldingActive=!1,this.autoplayTimeout=null}isPausedByUser(){return this.isHoveringActive||this.isHoldingActive}setPlaying(e){this.isPlaying=e}setHovering(e){this.isHoveringActive=e}setHolding(e){this.isHoldingActive=e}setAutoplayTimeout(e){this.autoplayTimeout&&clearTimeout(this.autoplayTimeout),this.autoplayTimeout=e}reset(){this.isPlaying=!1,this.isHoveringActive=!1,this.isHoldingActive=!1,this.autoplayTimeout&&(clearTimeout(this.autoplayTimeout),this.autoplayTimeout=null)}}class a{constructor(e,t){this.logoSwiper=e,this.state=t}pause(){this.state.isPlaying&&this.logoSwiper.autoplay?.stop()}resume(){this.state.isPlaying&&!n()&&(this.state.isPausedByUser()||this.logoSwiper.autoplay?.start())}tryResume(){this.state.isPausedByUser()||this.resume()}stop(){this.logoSwiper.autoplay?.stop(),this.state.setPlaying(!1)}start(){n()||(this.logoSwiper.autoplay?.start(),this.state.setPlaying(!0))}}class h{constructor(e,t,s){this.logosSliderEl=e,this.state=t,this.autoplayController=s,this.onPointerOver=this.onPointerOver.bind(this),this.onPointerOut=this.onPointerOut.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.onContextMenu=this.onContextMenu.bind(this)}onPointerOver(e){if("mouse"!==e.pointerType)return;const t=r(this.logosSliderEl);t&&t.contains(e.target)&&(this.state.setHovering(!0),this.autoplayController.pause())}onPointerOut(e){if("mouse"!==e.pointerType)return;const t=r(this.logosSliderEl);if(t&&t.contains(e.target)){const s=e.relatedTarget;if(s&&t.contains(s))return;this.state.setHovering(!1),this.autoplayController.tryResume()}}onTouchStart(e){const t=r(this.logosSliderEl);t&&t.contains(e.target)&&(this.state.setHolding(!0),this.autoplayController.pause())}onTouchMove(){this.state.isHoldingActive&&(this.state.setHolding(!1),this.autoplayController.tryResume())}onTouchEnd(){this.state.isHoldingActive&&(this.state.setHolding(!1),this.autoplayController.tryResume())}onContextMenu(e){const t=r(this.logosSliderEl);t&&t.contains(e.target)&&e.preventDefault()}attachListeners(){this.logosSliderEl.addEventListener("pointerover",this.onPointerOver,{passive:!0}),this.logosSliderEl.addEventListener("pointerout",this.onPointerOut,{passive:!0}),this.logosSliderEl.addEventListener("touchstart",this.onTouchStart,{passive:!0}),this.logosSliderEl.addEventListener("touchmove",this.onTouchMove,{passive:!0}),this.logosSliderEl.addEventListener("touchend",this.onTouchEnd,{passive:!0}),this.logosSliderEl.addEventListener("touchcancel",this.onTouchEnd,{passive:!0}),this.logosSliderEl.addEventListener("contextmenu",this.onContextMenu,{passive:!1})}detachListeners(){this.logosSliderEl.removeEventListener("pointerover",this.onPointerOver),this.logosSliderEl.removeEventListener("pointerout",this.onPointerOut),this.logosSliderEl.removeEventListener("touchstart",this.onTouchStart),this.logosSliderEl.removeEventListener("touchmove",this.onTouchMove),this.logosSliderEl.removeEventListener("touchend",this.onTouchEnd),this.logosSliderEl.removeEventListener("touchcancel",this.onTouchEnd),this.logosSliderEl.removeEventListener("contextmenu",this.onContextMenu)}}t.default=()=>{const e=document.querySelector(".clients__text"),t=document.querySelector(".clients__slider-wrapper"),s=document.querySelector(".clients__content");if(!e||!t||!s)return console.warn("Video slider: required elements not found"),null;const r=(()=>{const e=navigator.userAgent.toLowerCase();return-1!==e.indexOf("safari")&&-1===e.indexOf("chrome")})(),u=new l;let c=null;const d=new o.A(e,{modules:[i._R],slidesPerView:1,effect:"fade",fadeEffect:{crossFade:!0},allowTouchMove:!1,speed:2500,loop:!1,autoHeight:!1,observer:!0,observeParents:!0,updateOnWindowResize:!0,passiveListeners:!1}),g=new o.A(t,{modules:[i.Ij],slidesPerView:3,spaceBetween:20,centeredSlides:!0,loop:!0,speed:600,watchSlidesProgress:!0,roundLengths:!0,normalizeSlideIndex:!0,resistanceRatio:.85,touchRatio:1,touchAngle:45,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,threshold:5,preventInteractionOnTransition:r,observer:!0,observeParents:!0,updateOnWindowResize:!0,on:{setTransition:function(e,t){r&&t>0&&e.slides.forEach(e=>{e.style.transitionTimingFunction="cubic-bezier(0.4, 0, 0.2, 1)"})}},autoplay:!n()&&{delay:6e3,waitForTransition:!0,disableOnInteraction:!1,pauseOnMouseEnter:!1}});c=new a(g,u),g.autoplay?.stop(),d.slideTo(g.realIndex,0),r&&requestAnimationFrame(()=>{t.style.transform="translateZ(0)",t.offsetHeight});const v=()=>{if(u.isPausedByUser())return;const e=g.realIndex;d.activeIndex!==e&&d.slideTo(e,2500)};g.on("realIndexChange",v),g.on("slideChange",v),r&&g.on("slideChangeTransitionEnd",()=>{requestAnimationFrame(()=>{const e=t.querySelector(".swiper-slide-active");e&&(e.style.transform="translateZ(0)",e.offsetHeight)})});const p=new h(t,u,c);p.attachListeners();const y=new IntersectionObserver(e=>{e.forEach(e=>{const t=e.intersectionRatio;if(t>=.4&&!u.isPlaying){if(n())return;const e=setTimeout(()=>{c.start()},100);u.setAutoplayTimeout(e)}t<=.1&&u.isPlaying&&(c.stop(),u.reset())})},{threshold:[.1,.4]});return y.observe(s),{destroy:()=>{y.disconnect(),u.reset(),p.detachListeners(),g.off("realIndexChange",v),g.off("slideChange",v),g.destroy(!0,!0),d.destroy(!0,!0),console.log("Video slider destroyed")},logoSwiper:g,textSwiper:d,state:u,autoplayController:c}}}}]);